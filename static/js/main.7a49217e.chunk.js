(this["webpackJsonpalgos-visualizer-project"]=this["webpackJsonpalgos-visualizer-project"]||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var r=a(0),i=a.n(r),s=a(8),n=a.n(s),o=(a(15),a(1)),c=a(2),u=a(4),l=a(3),h=a(6),d=a(5),v=a.n(d),S=a(9),f=(a(17),a(18),function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.isStart,r=t.isFinish,s=t.isBarrier,n=t.isInSearchArea,o=a?"start":r?"finish":s?"barrier":"",c="";""===o&&(c=n?"search-area":"");var u="";return t.isOnShortestPath&&(u="shortestPath"),i.a.createElement("button",{className:"square ".concat(o," ").concat(c," ").concat(u),onClick:function(){return e.props.handleClickOnSquare(e.props.id)}})}}]),a}(i.a.Component)),m=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={squares:[]},r}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.squares;return i.a.createElement("div",null,i.a.createElement("div",{className:"table"},t.map((function(t,a){return i.a.createElement("div",{key:a},t.map((function(t,a){return i.a.createElement(f,{key:a,id:t.id,isStart:t.isStart,isFinish:t.isFinish,isBarrier:t.isBarrier,isInSearchArea:t.isInSearchArea,isOnShortestPath:t.isOnShortestPath,handleClickOnSquare:e.props.handleClickOnSquare})})))}))))}}]),a}(i.a.Component),p=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).solve=function(e){var t=[];r.setInfiniteDistanceFromStart(e);var a=r.getStartingSquare(e),i=[];i.push(a);for(var s=!1;i.length&&!s;){i.sort((function(e,t){return e.distance<=t.distance?-1:1}));var n=i[0];i.shift();for(var o=r.getNeighboursOf(n,e),c=0;c<o.length;c++){var u=o[c],l=n.distance+1;if(l<u.distance&&(u.distance=l,u.previousSquare=n),u.isFinish){s=!0;break}u.hasBeenVisited||(i.push(u),u.hasBeenVisited=!0,t.push(u)),e[u.id.row][u.id.col]=u}}return t},r.solveWithHeuristics=function(e){var t=[];r.setInfiniteDistanceFromStart(e);var a=r.getStartingSquare(e),i=[];i.push(a);for(var s=!1;i.length&&!s;){i.sort((function(e,t){return e.distance<=t.distance?-1:1}));var n=i[0];i.shift();for(var o=r.getNeighboursOf(n,e),c=0;c<o.length;c++){var u=o[c],l=n.distance+1,h=r.getDistanceHeuristics(u,e,4);if(l+h<u.distance&&(u.distance=l+h,u.previousSquare=n),u.isFinish){s=!0;break}u.hasBeenVisited||(i.push(u),u.hasBeenVisited=!0,t.push(u)),e[u.id.row][u.id.col]=u}}return t},r.getDistanceHeuristics=function(e,t,a){var i=r.getFinishSquare(t),s=e.id.row,n=e.id.col,o=i.id.row,c=i.id.col;return Math.pow(Math.abs(o-s)+Math.abs(c-n),a)},r.getNeighboursOf=function(e,t){var a=e.id,r=[];return a.row+1!==19&&(t[a.row+1][a.col].isBarrier||r.push(t[a.row+1][a.col])),a.col+1!==19&&(t[a.row][a.col+1].isBarrier||r.push(t[a.row][a.col+1])),a.row-1>=0&&(t[a.row-1][a.col].isBarrier||r.push(t[a.row-1][a.col])),a.col-1>=0&&(t[a.row][a.col-1].isBarrier||r.push(t[a.row][a.col-1])),r},r.setInfiniteDistanceFromStart=function(e){for(var t=0;t<19;t++)for(var a=0;a<19;a++)e[t][a].isStart?e[t][a].distance=0:e[t][a].distance=Number.MAX_VALUE,e[t][a].previousSquare=null,e[t][a].hasBeenVisited=!1},r.getStartingSquare=function(e){var t={};return e.filter((function(e){e.filter((function(e){!0===e.isStart&&(t=e)}))})),t},r.getFinishSquare=function(e){var t={};return e.filter((function(e){e.filter((function(e){!0===e.isFinish&&(t=e)}))})),t},r.constructShortestPath=function(e,t){var a=[],r=t;if(t.previousSquare){for(;r!==e;)a.push(r),r=r.previousSquare;return a.reverse(),a}},r.handleSolveClick=function(){var e=r.state.squares,t=r.getStartingSquare(e),a=r.getFinishSquare(e),i=[];if("dijkstra"===r.state.algorithmType)i=r.solve(e);else{if("a_star"!=r.state.algorithmType)return void alert("NO algorithm has been chosen!");i=r.solveWithHeuristics(e)}r.animateSolving(e,i).then((function(){var i=r.constructShortestPath(t,a);i&&r.animateShortestPath(e,i)}))},r.animateSolving=function(){var e=Object(S.a)(v.a.mark((function e(t,a){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 10,e.abrupt("return",new Promise((function(e){for(var i=function(i){var s=a[i];setTimeout((function(){t[s.id.row][s.id.col].isInSearchArea=!0,r.setState({squares:t})}),10*(i+1)),setTimeout(e,10*a.length)},s=0;s<a.length;s++)i(s)})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),r.animateShortestPath=function(e,t){for(var a=function(a){setTimeout((function(){var i=t[a];e[i.id.row][i.id.col].isOnShortestPath=!0,r.setState({squares:e})}),50*(a+1))},i=0;i<t.length-1;i++)a(i)},r.eraseSearchAreaWithShortestPath=function(){for(var e=r.state.squares,t=0;t<19;t++)for(var a=0;a<19;a++)e[t][a].hasBeenVisited=!1,e[t][a].isInSearchArea=!1,e[t][a].isOnShortestPath=!1;r.setState({squares:e})},r.handleClickOnSquare=function(e){var t=r.state.squares,a=r.getStartingSquare(t),i=r.getFinishSquare(t);e!==a.id&&e!==i.id&&("start"===r.state.selectedSquareType&&(t[a.id.row][a.id.col].isStart=!1),"finish"===r.state.selectedSquareType&&(t[i.id.row][i.id.col].isFinish=!1),t[e.row][e.col]=Object(h.a)(Object(h.a)({},t[e.row][e.col]),{},{id:{row:e.row,col:e.col},isStart:"start"===r.state.selectedSquareType,isFinish:"finish"===r.state.selectedSquareType})),"barrier"===r.state.selectedSquareType&&(t[e.row][e.col].isBarrier=!t[e.row][e.col].isBarrier),r.setState({squares:t}),r.eraseSearchAreaWithShortestPath()},r.handleSquareTypeChoice=function(e){r.setState({selectedSquareType:e.target.value})},r.handleAlgorithmChange=function(e){r.setState({algorithmType:e.target.value}),r.eraseSearchAreaWithShortestPath()},r.state={squares:[],selectedSquareType:"start",wasSolved:!1,visitedSquares:[],shortestPath:[],algorithmType:"dijkstra"},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.createSquares()}},{key:"createSquares",value:function(){for(var e=[],t=0;t<19;t++){for(var a=[],r=0;r<19;r++){var i={id:{row:t,col:r},isStart:!1,isFinish:!1,isBarrier:!1};a.push(i)}e.push(a)}this.setState({squares:e},this.chooseSquares)}},{key:"chooseSquares",value:function(){var e=[[7,9],[8,9],[9,9]],t=this.state.squares;t[8][5]={id:{row:8,col:5},isStart:!0,isFinish:!1,isBarrier:!1},t[8][13]={id:{row:8,col:13},isStart:!1,isFinish:!0,isBarrier:!1},t[8][13]={id:{row:8,col:13},isStart:!1,isFinish:!0,isBarrier:!1};for(var a=0;a<e.length;a++){var r=e[a][0],i=e[a][1];t[r][i]={id:{row:e[a][0],col:e[a][1]},isStart:!1,isFinish:!1,isBarrier:!0}}this.setState({squares:t})}},{key:"render",value:function(){var e=this.state,t=e.squares,a=e.selectedSquareType,r=e.wasSolved,s=e.squaresForAnimation,n=e.shortestPath;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"navbar"},i.a.createElement("ul",null,i.a.createElement("li",null,"Algo Visualizer"),i.a.createElement("li",null,"Shortest Path"))),i.a.createElement("div",{className:"solve-section"},i.a.createElement("div",{className:"select-box"},i.a.createElement("label",null,"Square: "),i.a.createElement("select",{className:"select",onChange:this.handleSquareTypeChoice},i.a.createElement("option",{value:"start"},"Start"),i.a.createElement("option",{value:"finish"},"Finish"),i.a.createElement("option",{value:"barrier"},"Barrier"))),i.a.createElement("div",{className:"select-box"},i.a.createElement("label",null,"Algorithm: "),i.a.createElement("select",{className:"select",onChange:this.handleAlgorithmChange},i.a.createElement("option",{value:"dijkstra"},"Dijkstra"),i.a.createElement("option",{value:"a_star"},"A*"))),i.a.createElement("div",null,i.a.createElement("button",{className:"solve-button",onClick:this.handleSolveClick},"Find shortest path"))),i.a.createElement("div",{className:"tablePosition"},i.a.createElement(m,{squares:t,selectedSquareType:a,wasSolved:r,squaresForAnimation:s,shortestPath:n,setInSearchAreaPropertyOfSquare:this.setInSearchAreaPropertyOfSquare,handleClickOnSquare:this.handleClickOnSquare})))}}]),a}(i.a.Component),q=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(p,null))}}]),a}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.7a49217e.chunk.js.map